# ContainerSSH Configuration (Version 0.5)
# SSH multiplexing/routing gateway

# SSH Server Settings
ssh:
  listen: 0.0.0.0:2222
  hostkeys:
    - /etc/containerssh/keys/host_ed25519
  banner: |
    ==========================================
    ContainerSSH Gateway - Demo Environment
    ==========================================

# Logging
log:
  format: ljson
  level: debug

# Authentication - Google OAuth2 via keyboard-interactive device flow
# Users will see OAuth URL and code in their terminal during SSH connection
auth:
  password:
    method: ""
  publicKey:
    method: ""
  keyboardInteractive:
    method: oauth2
    oauth2:
      clientId: "${GOOGLE_CLIENT_ID}"
      clientSecret: "${GOOGLE_CLIENT_SECRET}"
      provider: oidc
      oidc:
        url: "https://accounts.google.com/"
        deviceFlow: false
        authorizationCodeFlow: true
        redirectURI: "http://localhost:9080"

# Configuration Server - provides backend routing
configserver:
  url: http://configserver:8080/config
  timeout: 10s

# Backend (will be set by config server dynamically)
backend: sshproxy
